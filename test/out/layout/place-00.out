--- parse tree ---
[ Code
    "test/typ/layout/place-00.typ"
    ( line 1 , column 2 )
    (Let
       (BasicBind (Just (Identifier "test")))
       (FuncExpr
          [ NormalParam (Identifier "x") , NormalParam (Identifier "y") ]
          (Block
             (CodeBlock
                [ If
                    [ ( Equals (Ident (Identifier "x")) (Ident (Identifier "y"))
                      , Block (Content [ Text "\9989" ])
                      )
                    , ( Literal (Boolean True)
                      , Block
                          (Content
                             [ Text "\10060"
                             , Text "("
                             , Code
                                 "test/typ/layout/place-00.typ"
                                 ( line 1 , column 47 )
                                 (FuncCall
                                    (Ident (Identifier "repr"))
                                    [ NormalArg (Ident (Identifier "x")) ])
                             , Space
                             , Text "/"
                             , Text "="
                             , Space
                             , Code
                                 "test/typ/layout/place-00.typ"
                                 ( line 1 , column 59 )
                                 (FuncCall
                                    (Ident (Identifier "repr"))
                                    [ NormalArg (Ident (Identifier "y")) ])
                             , Text ")"
                             ])
                      )
                    ]
                ]))))
, SoftBreak
, Code
    "test/typ/layout/place-00.typ"
    ( line 2 , column 2 )
    (Set
       (Ident (Identifier "page")) [ NormalArg (Literal (String "a8")) ])
, SoftBreak
, Code
    "test/typ/layout/place-00.typ"
    ( line 3 , column 2 )
    (FuncCall
       (Ident (Identifier "place"))
       [ NormalArg
           (Plus (Ident (Identifier "bottom")) (Ident (Identifier "center")))
       , BlockArg [ Text "\169" , Space , Text "Typst" ]
       ])
, ParBreak
, Heading 1 [ Text "Placement" ]
, Code
    "test/typ/layout/place-00.typ"
    ( line 6 , column 2 )
    (FuncCall
       (Ident (Identifier "place"))
       [ NormalArg (Ident (Identifier "right"))
       , NormalArg
           (FuncCall
              (Ident (Identifier "image"))
              [ NormalArg (Literal (String "test/assets/files/tiger.jpg"))
              , KeyValArg (Identifier "width") (Literal (Numeric 1.8 Cm))
              ])
       ])
, SoftBreak
, Text "Hi"
, Space
, Text "there"
, Text "."
, Space
, Text "This"
, Space
, Text "is"
, Space
, HardBreak
, Text "a"
, Space
, Text "placed"
, Space
, Text "element"
, Text "."
, Space
, HardBreak
, Text "Unfortunately,"
, Space
, HardBreak
, Text "the"
, Space
, Text "line"
, Space
, Text "breaks"
, Space
, Text "still"
, Space
, Text "had"
, Space
, Text "to"
, Space
, Text "be"
, Space
, Text "inserted"
, Space
, Text "manually"
, Text "."
, ParBreak
, Code
    "test/typ/layout/place-00.typ"
    ( line 12 , column 2 )
    (FuncCall
       (Ident (Identifier "stack"))
       [ NormalArg
           (FuncCall
              (Ident (Identifier "rect"))
              [ KeyValArg (Identifier "fill") (Ident (Identifier "eastern"))
              , KeyValArg (Identifier "height") (Literal (Numeric 10.0 Pt))
              , KeyValArg (Identifier "width") (Literal (Numeric 100.0 Percent))
              ])
       , NormalArg
           (FuncCall
              (Ident (Identifier "place"))
              [ NormalArg (Ident (Identifier "right"))
              , KeyValArg (Identifier "dy") (Literal (Numeric 1.5 Pt))
              , BlockArg [ Text "ABC" ]
              ])
       , NormalArg
           (FuncCall
              (Ident (Identifier "rect"))
              [ KeyValArg (Identifier "fill") (Ident (Identifier "green"))
              , KeyValArg (Identifier "height") (Literal (Numeric 10.0 Pt))
              , KeyValArg (Identifier "width") (Literal (Numeric 80.0 Percent))
              ])
       , NormalArg
           (FuncCall
              (Ident (Identifier "rect"))
              [ KeyValArg (Identifier "fill") (Ident (Identifier "red"))
              , KeyValArg (Identifier "height") (Literal (Numeric 10.0 Pt))
              , KeyValArg (Identifier "width") (Literal (Numeric 100.0 Percent))
              ])
       , NormalArg (Literal (Numeric 10.0 Pt))
       , NormalArg
           (FuncCall
              (Ident (Identifier "block"))
              [ BlockArg
                  [ SoftBreak
                  , Code
                      "test/typ/layout/place-00.typ"
                      ( line 19 , column 6 )
                      (FuncCall
                         (Ident (Identifier "place"))
                         [ NormalArg (Ident (Identifier "center"))
                         , KeyValArg (Identifier "dx") (Negated (Literal (Numeric 7.0 Pt)))
                         , KeyValArg (Identifier "dy") (Negated (Literal (Numeric 5.0 Pt)))
                         , BlockArg [ Text "Hello" ]
                         ])
                  , SoftBreak
                  , Code
                      "test/typ/layout/place-00.typ"
                      ( line 20 , column 6 )
                      (FuncCall
                         (Ident (Identifier "place"))
                         [ NormalArg (Ident (Identifier "center"))
                         , KeyValArg (Identifier "dx") (Literal (Numeric 7.0 Pt))
                         , KeyValArg (Identifier "dy") (Literal (Numeric 5.0 Pt))
                         , BlockArg [ Text "Hello" ]
                         ])
                  , SoftBreak
                  , Text "Hello"
                  , Space
                  , Code
                      "test/typ/layout/place-00.typ"
                      ( line 21 , column 12 )
                      (FuncCall
                         (Ident (Identifier "h")) [ NormalArg (Literal (Numeric 1.0 Fr)) ])
                  , Space
                  , Text "Hello"
                  , ParBreak
                  ]
              ])
       ])
, ParBreak
]
--- evaluated ---
{ [
], 
  [
], 
  place(alignment: (Axes(center, bottom)), 
        body: [Â© Typst]), 
  parbreak(), 
  heading(body: [Placement], 
          level: 1), 
  place(alignment: (right), 
        body: image(path: "test/assets/files/tiger.jpg", 
                    width: 1.8cm)), 
  [
Hi there. This is ], 
  linebreak(), 
  [a placed element. ], 
  linebreak(), 
  [Unfortunately, ], 
  linebreak(), 
  [the line breaks still had to be inserted manually.], 
  parbreak(), 
  stack(children: (rect(body: none, 
                        fill: rgb(13%,61%,67%,100%), 
                        height: 10.0pt, 
                        width: 100%), 
                   place(alignment: (right), 
                         body: [ABC], 
                         dy: 1.5pt), 
                   rect(body: none, 
                        fill: rgb(18%,80%,25%,100%), 
                        height: 10.0pt, 
                        width: 80%), 
                   rect(body: none, 
                        fill: rgb(100%,25%,21%,100%), 
                        height: 10.0pt, 
                        width: 100%), 
                   10.0pt, 
                   block(body: { [
], 
                                 place(alignment: (center), 
                                       body: [Hello], 
                                       dx: -7.0pt, 
                                       dy: -5.0pt), 
                                 [
], 
                                 place(alignment: (center), 
                                       body: [Hello], 
                                       dx: 7.0pt, 
                                       dy: 5.0pt), 
                                 [
Hello ], 
                                 h(amount: 1.0fr), 
                                 [ Hello], 
                                 parbreak() }))), 
  parbreak() }
--- pandoc ---
Pandoc
  Meta { unMeta = fromList [] }
  [ Para []
  , Div
      ( "" , [] , [] ) [ Para [ Str "\169" , Space , Str "Typst" ] ]
  , Header 1 ( "" , [] , [] ) [ Str "Placement" ]
  , Div
      ( "" , [] , [] )
      [ Para
          [ Image
              ( "" , [] , [ ( "width" , "1.8cm" ) ] )
              []
              ( "test/assets/files/tiger.jpg" , "" )
          ]
      ]
  , Para
      [ Str "Hi"
      , Space
      , Str "there."
      , Space
      , Str "This"
      , Space
      , Str "is"
      , LineBreak
      , Str "a"
      , Space
      , Str "placed"
      , Space
      , Str "element."
      , LineBreak
      , Str "Unfortunately,"
      , LineBreak
      , Str "the"
      , Space
      , Str "line"
      , Space
      , Str "breaks"
      , Space
      , Str "still"
      , Space
      , Str "had"
      , Space
      , Str "to"
      , Space
      , Str "be"
      , Space
      , Str "inserted"
      , Space
      , Str "manually."
      ]
  , Div
      ( "" , [] , [ ( "stack" , "ltr" ) ] )
      [ Div ( "" , [] , [] ) [ Div ( "" , [ "rect" ] , [] ) [] ]
      , Div
          ( "" , [] , [] ) [ Div ( "" , [] , [] ) [ Para [ Str "ABC" ] ] ]
      , Div ( "" , [] , [] ) [ Div ( "" , [ "rect" ] , [] ) [] ]
      , Div ( "" , [] , [] ) [ Div ( "" , [ "rect" ] , [] ) [] ]
      , Div ( "" , [] , [] ) [ Para [ Str "10.0pt" ] ]
      , Div
          ( "" , [] , [] )
          [ Div
              ( "" , [] , [] )
              [ Para []
              , Div ( "" , [] , [] ) [ Para [ Str "Hello" ] ]
              , Para []
              , Div ( "" , [] , [] ) [ Para [ Str "Hello" ] ]
              , Para
                  [ Str "Hello" , Space , Str "\8202\8193" , Space , Str "Hello" ]
              ]
          ]
      ]
  ]
